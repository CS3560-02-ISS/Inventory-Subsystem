import{S as W,i as X,s as Y,D as Z,j as A,m as G,o as R,x as P,u as L,v as K,k as I,e as k,t as B,n as N,c as E,a as M,g as F,d as v,b as i,f as V,E as r,J as O,F as x,G as ee,H as te,w as se,L as U,M as ae,r as le}from"../../chunks/vendor-786b6522.js";import{C as ne}from"../../chunks/customTable-d965812e.js";import{M as oe}from"../../chunks/modal-736927c9.js";function Q(n){let l,s;return l=new ne({props:{headers:n[7],entries:n[0],resource:"transactions"}}),{c(){A(l.$$.fragment)},l(a){G(l.$$.fragment,a)},m(a,h){R(l,a,h),s=!0},p(a,h){const u={};h&1&&(u.entries=a[0]),l.$set(u)},i(a){s||(P(l.$$.fragment,a),s=!0)},o(a){L(l.$$.fragment,a),s=!1},d(a){K(l,a)}}}function re(n){let l,s,a,h,u,S,y,p,$,T,o,c,z,f,g,d,j,b,C,m;return{c(){l=k("div"),s=k("button"),a=B("Cancel"),h=I(),u=k("h1"),S=B("New Transaction"),y=I(),p=k("button"),$=B("Done"),T=I(),o=k("form"),c=k("input"),z=I(),f=k("input"),g=I(),d=k("input"),j=I(),b=k("input"),this.h()},l(t){l=E(t,"DIV",{class:!0});var e=M(l);s=E(e,"BUTTON",{class:!0});var _=M(s);a=F(_,"Cancel"),_.forEach(v),h=N(e),u=E(e,"H1",{class:!0});var w=M(u);S=F(w,"New Transaction"),w.forEach(v),y=N(e),p=E(e,"BUTTON",{class:!0});var H=M(p);$=F(H,"Done"),H.forEach(v),e.forEach(v),T=N(t),o=E(t,"FORM",{class:!0});var D=M(o);c=E(D,"INPUT",{type:!0,placeholder:!0,class:!0}),z=N(D),f=E(D,"INPUT",{type:!0,placeholder:!0,class:!0}),g=N(D),d=E(D,"INPUT",{type:!0,placeholder:!0,class:!0}),j=N(D),b=E(D,"INPUT",{type:!0,placeholder:!0,class:!0}),D.forEach(v),this.h()},h(){i(s,"class","cancel svelte-1uryyzp"),i(u,"class","svelte-1uryyzp"),i(p,"class","done svelte-1uryyzp"),p.disabled=n[6],i(l,"class","header svelte-1uryyzp"),i(c,"type","date"),i(c,"placeholder","Date"),i(c,"class","svelte-1uryyzp"),i(f,"type","text"),i(f,"placeholder","Customer"),i(f,"class","svelte-1uryyzp"),i(d,"type","text"),i(d,"placeholder","Employee"),i(d,"class","svelte-1uryyzp"),i(b,"type","text"),i(b,"placeholder","Stock"),i(b,"class","svelte-1uryyzp"),i(o,"class","svelte-1uryyzp")},m(t,e){V(t,l,e),r(l,s),r(s,a),r(l,h),r(l,u),r(u,S),r(l,y),r(l,p),r(p,$),V(t,T,e),V(t,o,e),r(o,c),U(c,n[1]),r(o,z),r(o,f),U(f,n[2]),r(o,g),r(o,d),U(d,n[3]),r(o,j),r(o,b),U(b,n[4]),C||(m=[O(s,"click",n[8]),O(p,"click",n[9]),O(c,"input",n[11]),O(f,"input",n[12]),O(d,"input",n[13]),O(b,"input",n[14])],C=!0)},p(t,e){e&64&&(p.disabled=t[6]),e&2&&U(c,t[1]),e&4&&f.value!==t[2]&&U(f,t[2]),e&8&&d.value!==t[3]&&U(d,t[3]),e&16&&b.value!==t[4]&&U(b,t[4])},d(t){t&&v(l),t&&v(T),t&&v(o),C=!1,ae(m)}}}function ue(n){let l,s,a,h,u,S,y,p,$,T,o,c,z,f,g,d,j,b;const C=n[10].default,m=Z(C,n,n[15],null);let t=n[0]&&Q(n);return g=new oe({props:{showModal:n[5],$$slots:{default:[re]},$$scope:{ctx:n}}}),{c(){m&&m.c(),l=I(),s=k("div"),a=k("main"),h=k("h1"),u=B("Transactions"),S=I(),y=k("div"),p=k("p"),$=B("List of all currently transactions"),T=I(),o=k("button"),c=B("Create new transaction"),z=I(),t&&t.c(),f=I(),A(g.$$.fragment),this.h()},l(e){m&&m.l(e),l=N(e),s=E(e,"DIV",{class:!0});var _=M(s);a=E(_,"MAIN",{class:!0});var w=M(a);h=E(w,"H1",{});var H=M(h);u=F(H,"Transactions"),H.forEach(v),S=N(w),y=E(w,"DIV",{class:!0});var D=M(y);p=E(D,"P",{class:!0});var J=M(p);$=F(J,"List of all currently transactions"),J.forEach(v),T=N(D),o=E(D,"BUTTON",{class:!0});var q=M(o);c=F(q,"Create new transaction"),q.forEach(v),D.forEach(v),z=N(w),t&&t.l(w),f=N(w),G(g.$$.fragment,w),w.forEach(v),_.forEach(v),this.h()},h(){i(p,"class","svelte-1uryyzp"),i(o,"class","svelte-1uryyzp"),i(y,"class","sub svelte-1uryyzp"),i(a,"class","svelte-1uryyzp"),i(s,"class","wrapper svelte-1uryyzp")},m(e,_){m&&m.m(e,_),V(e,l,_),V(e,s,_),r(s,a),r(a,h),r(h,u),r(a,S),r(a,y),r(y,p),r(p,$),r(y,T),r(y,o),r(o,c),r(a,z),t&&t.m(a,null),r(a,f),R(g,a,null),d=!0,j||(b=O(o,"click",n[8]),j=!0)},p(e,[_]){m&&m.p&&(!d||_&32768)&&x(m,C,e,e[15],d?te(C,e[15],_,null):ee(e[15]),null),e[0]?t?(t.p(e,_),_&1&&P(t,1)):(t=Q(e),t.c(),P(t,1),t.m(a,f)):t&&(le(),L(t,1,1,()=>{t=null}),se());const w={};_&32&&(w.showModal=e[5]),_&32862&&(w.$$scope={dirty:_,ctx:e}),g.$set(w)},i(e){d||(P(m,e),P(t),P(g.$$.fragment,e),d=!0)},o(e){L(m,e),L(t),L(g.$$.fragment,e),d=!1},d(e){m&&m.d(e),e&&v(l),e&&v(s),t&&t.d(),K(g),j=!1,b()}}}async function de({page:n}){return{props:{transactions:(await(await fetch("http://localhost:8080/transactions")).json()).map(u=>({Date:u.transactionDate,Customer:u.customer_id,Employee:u.employee_id,Stock:u.stock_id,Id:u.transaction_id}))}}}function ie(n,l,s){let{$$slots:a={},$$scope:h}=l,{transactions:u}=l,S=["Date","Customer","Employee","Stock","Id"],y=!1;const p=()=>{s(5,y=!y)},$=async function(){const C="http://localhost:8080/transactions",m={transactionDate:T,stock_id:z,customer_id:o,employee_id:c},_=(await(await fetch(C,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(m)})).json()).insertId;s(0,u=[...u,{Date:T,Customer:o,Employee:c,Stock:z,Id:_}]),p()};let T,o,c,z,f=!0;function g(){T=this.value,s(1,T)}function d(){o=this.value,s(2,o)}function j(){c=this.value,s(3,c)}function b(){z=this.value,s(4,z)}return n.$$set=C=>{"transactions"in C&&s(0,u=C.transactions),"$$scope"in C&&s(15,h=C.$$scope)},n.$$.update=()=>{n.$$.dirty&30&&(T&&o&&z&&c?s(6,f=!1):s(6,f=!0))},[u,T,o,c,z,y,f,S,p,$,a,g,d,j,b,h]}class _e extends W{constructor(l){super();X(this,l,ie,ue,Y,{transactions:0})}}export{_e as default,de as load};
